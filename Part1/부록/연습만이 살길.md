# ì—°ìŠµë§Œì´ ì‚´ê¸¸

## B.1 ë¹„êµ ì—°ìŠµí•˜ê¸°

íƒ€ì…ê³¼ ë¹„êµì— ëŒ€í•œ ì—°ìŠµ ë¬¸ì œë¥¼ í’€ì–´ë³´ì.

ë‹¤ìŒ ì—°ìŠµ ë¬¸ì œì˜ í•¨ìˆ˜ `scheduleMeeting()`ì€ `"hh:mm"` í˜•íƒœì˜ íšŒì˜ ì‹œì‘ ì‹œê°ê³¼ ë¶„ ë‹¨ìœ„ì˜ íšŒì˜ ì§€ì† ì‹œê°„ì„ ì¸ìˆ˜ë¡œ ë°›ëŠ”ë‹¤. ë³€ìˆ˜ `dayStart`ì™€ `dayEnd`ì—ëŠ” ê·¼ë¬´ ì‹œì‘ ì‹œê°„ê³¼ ê·¼ë¬´ ì¢…ë£Œ ì‹œê°ì´ í• ë‹¹ëœë‹¤. `scheduleMeeting` í•¨ìˆ˜ëŠ” íšŒì˜ê°€ ê·¼ë¬´ ì‹œê°„ ë‚´ì— ì´ë¤„ì§ˆ ê²½ìš° `true`ë¥¼, ê·¸ë ‡ì§€ ì•Šë‹¤ë©´ `false`ë¥¼ ë°˜í™˜í•´ì•¼ í•œë‹¤.

```js
const dayStart = "07:30";
const dayEnd = "17:45";

function scheduleMeeting(startTime, durationMinutes) {
  // ... ì—¬ê¸°ì— ì½”ë“œë¥¼ ì‘ì„±í•˜ì„¸ìš”  ...
}

scheduleMetting("7:00", 15); // false
scheduleMetting("07:15", 30); // false
scheduleMetting("7:30", 30); // true
scheduleMetting("11:30", 60); // true
scheduleMetting("17:00", 45); // true
scheduleMetting("17:30", 30); // false
scheduleMetting("18:00", 15); // false
```

ë™ë“± ì—°ì‚°ìì™€ íƒ€ì…ê¹Œì§€ ë¹„êµí•˜ëŠ” ì¼ì¹˜ ì—°ì‚°ìì˜ ìš©ë¡€ë¥¼ ì˜ ìƒê°í•˜ë©° íƒ€ì… ë³€í™˜ì´ ì½”ë“œì— ì–´ë–¤ ì˜í–¥ì„ ì¤„ì§€ë¥¼ ê³ ë ¤í•´ì•¼ ë¬¸ì œë¥¼ í’€ ìˆ˜ ìˆë‹¤.

<details>
  <summary>ëª¨ë²” ë‹µì•ˆ</summary>

```js
const dayStart = "07:30";
const dayEnd = "17:45";

function scheduleMeeting(startTime, durationMinutes) {
  var [, meetingStartHour, meetingStartMinutes] =
    startTime.match(/^(\d{1, 2}):(\d{2})$/) || [];

  durationMinutes = Number(durationMinutes);

  if (
    typeof meetingStartHour == "string" &&
    typeof meetingStartMinutes == "string"
  ) {
    let durationHours = Math.floor(durationMinutes / 60);
    durationMinutes = durationMinutes - durationHours * 60;
    let meetingEndHour = Number(meetingStartHour) + durationHours;
    let mettingEndMinutes = Number(meetingStartMinutes) + durationMinutes;

    if (meetingMinutes >= 60) {
      meetingEndHour = meetingEndHour + 1;
      meetingEndMinutes = meetingEndMinutes - 60;
    }

    // ë¹„êµë¥¼ ì¢€ ë” ì‰½ê²Œ í•˜ê¸° ìœ„í•´ ì‹œê°ì„ ë‚˜íƒ€ë‚´ëŠ” ë¬¸ìì—´ì„ ì¬ê°€ê³µ í–ˆìŠµë‹ˆë‹¤.
    let meeting = `${meetingStartHour.padStart(
      2,
      "0"
    )}:${meetingStartMinutes.padStart(2, "0")}`;
    let meetingEnd = `${String(meetingEndHour).padStart(2, "0")}:${String(
      meetingEndMinutes
    ).padStart(2, "0")}`;

    // ë¹„êµ ëŒ€ìƒì´ ëª¨ë‘ ë¬¸ìì´ê¸° ë•Œë¬¸ì— ë¹„êµëŠ” ì‚¬ì „ ìˆœìœ¼ë¡œ ì¼ì–´ë‚©ë‹ˆë‹¤.
    // í•˜ì§€ë§Œ ì•ì„œ ë¬¸ìì—´ì„ ì¬ê°€ê³µí–ˆìœ¼ë¯€ë¡œ
    // ì‚¬ì „ ìˆœìœ¼ë¡œ ë¹„êµê°€ ì¼ë‚˜ë„ ì‹œê°ì„ ë¹„êµí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    // ì˜ˆ: "07:15" < "07:30"
    return meetingStart >= dayStart && meetingEnd <= dayEnd;
  }

  return false;
}

scheduleMetting("7:00", 15); // false
scheduleMetting("07:15", 30); // false
scheduleMetting("7:30", 30); // true
scheduleMetting("11:30", 60); // true
scheduleMetting("17:00", 45); // true
scheduleMetting("17:30", 30); // false
scheduleMetting("18:00", 15); // false
```

</details>

<br>

## B.2 í´ë¡œì € ì—°ìŠµí•˜ê¸°

í•¨ìˆ˜ `range()`ëŠ” ë‘ ê°œì˜ ìˆ«ì ì¸ìë¥¼ ë°›ìœ¼ë©°, ë‘ ìˆ«ìëŠ” ê°ê° ì›í•˜ëŠ” ë²”ìœ„ì˜ ì‹œì‘ê³¼ ëì„ ë‚˜íƒ€ë‚¸ë‹¤. ë‘ ë²ˆì§¸ ì¸ìê°€ ì—†ëŠ” ê²½ìš°ì—ëŠ” ë‘ ë²ˆì§¸ ì¸ìë¥¼ ë„˜ê¸¸ ìˆ˜ ìˆë„ë¡ í•˜ëŠ” í•¨ìˆ˜ê°€ ë°˜í™˜ë˜ì–´ì•¼ í•œë‹¤.

```js
function range(start, end) {
  // ... ì—¬ê¸°ì— ì½”ë“œë¥¼ ì‘ì„±í•˜ì„¸ìš” ...
}

range(3, 3); // [3]
range(3, 8); // [3, 4, 5, 6, 7, 8]
range(3, 0); // []

var start3 = range(3);
var start4 = range(4);

start3(3); // [3]
start3(8); // [3, 4, 5, 6, 7, 8]
start3(0); // []

start4(6); // [4, 5, 6]
```

í˜¼ìì„œ ì§ì ‘ í’€ì–´ë³´ì„¸ìš”.

<details>
  <summary>ëª¨ë²” ë‹µì•ˆ</summary>

```js
function range(start, end) {
  start = Number(start) || 0;
  if (end === undefined) {
    return function getEnd(end) {
      return getRange(start, end);
    };
  } else {
    end = Number(end) || 0;
    return getRange(start, end);
  }

  // *********************

  function getRange(start, end) {
    var ret = [];
    for (let i = start; i <= end; i++) {
      ret.push(i);
    }

    return ret;
  }
}

range(3, 3); // [3]
range(3, 8); // [3, 4, 5, 6, 7, 8]
range(3, 0); // []

var start3 = range(3);
var start4 = range(4);

start3(3); // [3]
start3(8); // [3, 4, 5, 6, 7, 8]
start3(0); // []

start4(6); // [4, 5, 6]
```

</details>

<br>

## B.3 í”„ë¡œí† íƒ€ì… ì—°ìŠµí•˜ê¸°

**this**ì™€ í”„ë¡œí† íƒ€ì…ì„ í†µí•œ ê°ì²´ ì—°ê²°ì„ ì—°ìŠµí•´ë³´ì.

ë…ë¦½ì ìœ¼ë¡œ ëŒì•„ê°€ëŠ” ë¦´ ì„¸ ê°œê°€ ìˆëŠ” ìŠ¬ë¡¯ë¨¸ì‹ ì„ ì •ì˜í•´ë³´ì. í•¨ìˆ˜ `spin()`ì„ ì‹¤í–‰í•˜ë©´ ì„¸ë¦´ì´ ëŒê³ , `display()`ë¥¼ ì‹¤í–‰í•˜ë©´ ê²°ê³¼ê°€ ì¶œë ¥ëœë‹¤.

ë¦´ í•˜ë‚˜ì˜ ë™ì‘ì€ `reel` ê°ì²´ì— ì •ì˜ë˜ì–´ ìˆë‹¤. ê·¸ëŸ°ë° ìš°ë¦¬ê°€ ë§Œë“¤ ìŠ¬ë¡¯ë¨¸ì‹ ì—ëŠ” ì—¬ëŸ¬ ë¦´ì´ ìˆìœ¼ë¯€ë¡œ ê° ë¦´ì€ `reel`ì„ ìƒì† ë°›ì•„ì•¼ í•œë‹¤. ì—¬ê¸°ì— ë”í•´ ë¦´ì—ëŠ” `position` í”„ë¡œí¼í‹°ë„ í•„ìš”í•˜ë‹¤.

ì¼ë°˜ì ìœ¼ë¡œ ìŠ¬ë¡¯ë¨¸ì‹ ì˜ ë¦´ì€ ê²°ê³¼ì— í•´ë‹¹í•˜ëŠ” ê¸°í˜¸ í•˜ë‚˜(`position`)ì™€ ì• ê¸°í˜¸(position - 1) ë’¤ ê¸°í˜¸(position + 1) ë¥¼ í•¨ê»˜ í‘œì‹œí•œë‹¤. `display()`ë¥¼ ì‹¤í–‰í•˜ë©´ 3 \* 3 ê·¸ë¦¬ë“œì˜ ì´ 9ê°œì˜ ê¸°í˜¸ê°€ ì¶œë ¥ë˜ë„ë¡ í•´ë³´ì.

```js
function readMax(max) {
  return Math.trunc(1e9 * Math.random()) % max;
}

var reel = {
  symbols: ["â™ ï¸", "â¤ï¸", "â™¦ï¸", "â™£ï¸", "ğŸ¤£", "â­ï¸", "ğŸŒ™", "â˜€ï¸"],
  spin() {
    if (this.position == null) {
      this.position = randMax(this.symbols.length - 1);
    }
    this.position = (this.position + 100 + randMax(100)) % this.symbols.length;
  },
  display() {
    if (this.position == null) {
      this.position = randMax(this.symbols.length - 1);
    }
    return this.symbols[this.position];
  },
};

var slotMachine = {
  reels: [
    // ... ì—¬ê¸°ì— ì½”ë“œë¥¼ ì‘ì„±í•˜ì„¸ìš” ...
    // ìŠ¬ë¡¯ë¨¸ì‹ ì—ëŠ” ì„¸ ê°œì˜ ë¦´ì´ í•„ìš”í•©ë‹ˆë‹¤.
    // íŒíŠ¸: Object.create()ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.
  ],
  spin() {
    this.reels.forEach(function spinReel(reel) {
      reel.spin();
    });
  },
  display() {
    // ... ì—¬ê¸°ì— ì½”ë“œë¥¼ ì‘ì„±í•˜ì„¸ìš”...
  },
};

slotMachine.spin();
slotMachine.display();
// ğŸŒ™ | â˜€ï¸ | â™£ï¸
// â˜€ï¸ | â™ ï¸ | ğŸŒ™
// â™ ï¸ | â¤ï¸ | â˜€ï¸

slotMachine.spin();
slotMachine.display();
// â™¦ï¸ | â™ ï¸ | â™£ï¸
// â™£ï¸ | â¤ï¸ | ğŸ¤£
// ğŸ¤£ | â™¦ï¸ | â­ï¸
```

í˜¼ìì„œ í’€ì–´ë³´ì„¸ìš”. íŒë“œëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

- ë‚˜ë¨¸ì§€ ì—°ì‚°ì(%)ë¥¼ ì‚¬ìš©í•˜ë©´ ë¦´ì„ ì›í˜•ìœ¼ë¡œ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- Object.create()ë¡œ í”„ë¡œí† íƒ€ì…ì´ ìˆëŠ” ê°ì²´ë¥¼ ë§Œë“œì„¸ìš”. í”„ë¡œí† íƒ€ì… ì—°ê²°ì´ ë§Œë“¤ì–´ì§€ë©´ ìœ„ì„ ë•ë¶„ì— ìƒì† ê°ì²´ë“¤ì€ ë©”ì„œë“œ í˜¸ì¶œ ì‹œ this ì»¨í…ìŠ¤íŠ¸ë¥¼ ê³µìœ í•˜ê²Œ ë©ë‹ˆë‹¤.
- ì„¸ ë¦´ì˜ positionì„ ë³´ì—¬ì£¼ê¸° ìœ„í•´ ê°ì²´ reelì„ ì§ì ‘ ìˆ˜ì •í•˜ëŠ” ëŒ€ì‹  ë‹¤ì‹œ Object.create()ë¥¼ ì‚¬ìš©í•´ì„œ ì„ì‹œ ê°ì²´ë¥¼ í•˜ë‚˜ ë§Œë“¤ê³ ã…¡ ì—¬ê¸°ì—ì„œ ìœ„ì„ì„ í†µí•´ positionì„ ê´€ë¦¬í•˜ì.

<details>
  <summary>ëª¨ë²” ë‹µì•ˆ</summary>

```js
function readMax(max) {
  return Math.trunc(1e9 * Math.random()) % max;
}

var reel = {
  symbols: ["â™ ï¸", "â¤ï¸", "â™¦ï¸", "â™£ï¸", "ğŸ¤£", "â­ï¸", "ğŸŒ™", "â˜€ï¸"],
  spin() {
    if (this.position == null) {
      this.position = randMax(this.symbols.length - 1);
    }
    this.position = (this.position + 100 + randMax(100)) % this.symbols.length;
  },
  display() {
    if (this.position == null) {
      this.position = randMax(this.symbols.length - 1);
    }
    return this.symbols[this.position];
  },
};

var slotMachine = {
  reels: [
    Object.create(reel),
    Object.create(reel),
    Object.create(reel),
  ],
  spin() {
    this.reels.forEach(function spinReel(reel) {
      reel.spin();
    });
  },
  display() {
    var line = [];

    // ìŠ¬ë¡¯ë¨¸ì‹ ì— ë¦´ ì„¸ ê°œë¥¼ ëª¨ë‘ ë³´ì—¬ì¤€ë‹¤.
    for (
      let linePos = -1; linePos <= 1; linePos++
    ) {
      let line = this.reels.map(
        function getSlor(reel) {
          var slot = Object.create(reel);
          slot.position = (
            reel.symbols.length +
            reel.position +
            linePos
          ) % reel.symbols.length;
          return slot.display(;)
        }
      );
      lines.push(line.join(" | "));
    }

    return lines.join("\n");
  },
};

slotMachine.spin();
slotMachine.display();
// ğŸŒ™ | â˜€ï¸ | â™£ï¸
// â˜€ï¸ | â™ ï¸ | ğŸŒ™
// â™ ï¸ | â¤ï¸ | â˜€ï¸

slotMachine.spin();
slotMachine.display();
// â™¦ï¸ | â™ ï¸ | â™£ï¸
// â™£ï¸ | â¤ï¸ | ğŸ¤£
// ğŸ¤£ | â™¦ï¸ | â­ï¸
```

</details>
